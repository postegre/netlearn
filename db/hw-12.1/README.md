Домашнее задание к занятию «Базы данных»

Легенда
Заказчик передал вам файл в формате Excel, в котором сформирован отчёт.

На основе этого отчёта нужно выполнить следующие задания.

Задание 1
Опишите не менее семи таблиц, из которых состоит база данных:

какие данные хранятся в этих таблицах;
какой тип данных у столбцов в этих таблицах, если данные хранятся в PostgreSQL.
Приведите решение к следующему виду:

Сотрудники (

идентификатор, первичный ключ, serial,
фамилия varchar(50),
...
идентификатор структурного подразделения, внешний ключ, integer).

1. Сотрудники (Employees)
(Основная информация о сотрудниках)


Сотрудники (
  идентификатор, первичный ключ, serial,
  фамилия_имя_отчество varchar(150),
  оклад numeric(10,2),
  должность_id, внешний ключ, integer,
  подразделение_id, внешний ключ, integer,
  дата_найма date,
  адрес_филиала_id, внешний ключ, integer,
  проект_id, внешний ключ, integer
)


2. Должности (Positions)
(Справочник должностей)

Должности (
  идентификатор, первичный ключ, serial,
  наименование varchar(100)
)


3. Типы подразделений (Division_Types)
(Справочник типов подразделений: "Отдел", "Группа" и т.д.)

Типы_подразделений (
  идентификатор, первичный ключ, serial,
  название varchar(50)
)


4. Структурные подразделения (Divisions)
(Конкретные подразделения, например "Группа сервисной поддержки")


Подразделения (
  идентификатор, первичный ключ, serial,
  название varchar(150),
  тип_подразделения_id, внешний ключ, integer
)


5. Филиалы (Branches)
(Адреса филиалов)


Филиалы (
  идентификатор, первичный ключ, serial,
  адрес varchar(255)
)


6. Проекты (Projects)
(Проекты, на которые назначены сотрудники)


Проекты (
  идентификатор, первичный ключ, serial,
  название varchar(150)
)


7. Назначение сотрудников на проекты (Employee_Projects)
(Дополнительная таблица, если сотрудник может быть назначен на несколько проектов)


Назначения_сотрудников (
  идентификатор, первичный ключ, serial,
  сотрудник_id, внешний ключ, integer,
  проект_id, внешний ключ, integer
)



Дополнительные задания (со звёздочкой*)
Эти задания дополнительные, то есть не обязательные к выполнению, и никак не повлияют на получение вами зачёта по этому домашнему заданию. Вы можете их выполнить, если хотите глубже шире разобраться в материале.

Задание 2*
Перечислите, какие, на ваш взгляд, в этой денормализованной таблице встречаются функциональные зависимости и какие правила вывода нужно применить, чтобы нормализовать данные.

Функциональные зависимости

ФИО → Оклад, Должность, Подразделение, Дата найма, Филиал, Проект

По ФИО сотрудника можно узнать всё остальное.

Структурное подразделение → Тип подразделения

Проект → (может быть привязан к филиалу или подразделению, если они связаны)

Правила вывода которые нужно применить, чтобы нормализовать данные


 Правило 1:
 
Применить первую нормальную форму (1НФ):

Убедиться, что каждое поле (ячейка) содержит одно атомарное значение, а не список.

То есть в каждой ячейке таблицы должно быть только одно значение, а не набор значений.

Пример:
Если бы в поле "Проект" у сотрудника было бы {Проект1, Проект2}, нужно было бы это разделить.

 
 Правило 2:
 
Применить вторую нормальную форму (2НФ):

Разделить таблицу на части так, чтобы все поля зависели только от первичного ключа.

Убрать повторение информации через создание отдельных справочников:

Должности

Структурные подразделения

Филиалы

Проекты



 Правило 3:

Убрать транзитивные зависимости.

Это значит: если Структурное подразделение определяет Тип подразделения, нужно вынести Тип подразделения в отдельную таблицу и связать его с подразделением.

